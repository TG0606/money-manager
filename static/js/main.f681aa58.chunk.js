(this["webpackJsonpmoney-manager"]=this["webpackJsonpmoney-manager"]||[]).push([[0],{36:function(e,t,a){e.exports=a.p+"static/media/imageOne.89ef5fc2.png"},37:function(e,t,a){e.exports=a.p+"static/media/imageTwo.4f6847a5.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/imageThree.3f5af817.jpg"},40:function(e,t,a){e.exports=a(68)},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(33),c=a.n(r),l=a(5),s=a(6),i=a(8),u=a(7),m=a(9),p=a(13),h=a(12),d=a(10),E=a.n(d),g="";g="https://tg-money-manager.herokuapp.com/api/user_token";var f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:"",logged_in:!1},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.login=function(e,t){console.log({auth:{email:e,password:t}}),E.a.post(g,{auth:{email:e,password:t}}).then((function(e){console.log(e),e.data.jwt?(a.setState({logged_in:!0}),localStorage.setItem("auth_token",e.data.jwt),a.props.onLogin(!0),a.props.history.push("/accounts")):console.warn("Login error!",e)})).catch((function(e){return console.warn(e)})),a.state.logged_in&&a.props.history.push("/")},a.handleSubmit=function(e){e.preventDefault(),a.login(a.state.email,a.state.password)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"loginBoxBorder"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("br",null),o.a.createElement("input",{className:"email",type:"text",placeholder:"Email",onChange:this.handleEmail}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"password",type:"password",placeholder:"Password",onChange:this.handlePassword}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"buttonOne",type:"submit",value:"Login"}),o.a.createElement("br",null),o.a.createElement("br",null)))}}]),t}(n.Component),b="";b="https://tg-money-manager.herokuapp.com/users";var v,y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",name:"",password:"",password_confirmation:""},a.handleEmail=function(e){a.setState({email:e.target.value})},a.handleName=function(e){a.setState({name:e.target.value})},a.handlePassword=function(e){a.setState({password:e.target.value})},a.handlePasswordConfirmation=function(e){a.setState({password_confirmation:e.target.value})},a.createAccount=function(e,t,n,o){console.log({email:e,name:t,password:n,password_confirmation:o}),E.a.post(b,{email:e,name:t,password:n,password_confirmation:o}).then((function(e){console.log(e),a.props.history.push("/login")}))},a.handleSubmit=function(e){e.preventDefault(),a.createAccount(a.state.email,a.state.name,a.state.password,a.state.password_confirmation)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"createAccountBoxBorder"},o.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},o.a.createElement("br",null),o.a.createElement("input",{className:"email",type:"email",placeholder:"Email",onChange:this.handleEmail})," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"userName",type:"text",placeholder:"User Name",onChange:this.handleName})," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"password",type:"password",placeholder:"Password",onChange:this.handlePassword})," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"comfiredPassword",type:"password",placeholder:"Comfirmed Password",onChange:this.handlePasswordConfirmation})," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"buttonOne",type:"submit",value:"Sign Up"}),o.a.createElement("br",null),o.a.createElement("br",null)))}}]),t}(n.Component),w=a(14);v="https://tg-money-manager.herokuapp.com/accounts/";var N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={accounts:[],name:"",user_id:""},a.handleInput=function(e){a.setState({name:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=localStorage.getItem("auth_token");console.log("token!",t),null!==t?E.a.post(v,{name:a.state.name},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("response:",e.data.data),a.setState({accounts:[e.data.data].concat(Object(w.a)(a.state.accounts)),name:""})})).catch((function(e){console.warn(e)})):a.props.history.push("/")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("auth_token");t?E.a.get("http://localhost:3000/accounts",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){console.log("response:",t.data),e.setState({accounts:t.data})})).catch((function(e){console.warn(e)})):this.props.history.push("/login")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Accounts"),this.state.accounts.length>=1?o.a.createElement("ul",{className:"accounts"},this.state.accounts.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(p.b,{to:"/accounts/".concat(e.id),key:e.id},e.name))}))):o.a.createElement("p",null,"loading..."),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{className:"title",placeholder:"Title",type:"text",onChange:this.handleInput,value:this.state.name}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("input",{className:"button",type:"submit",value:"Create Account"})))}}]),t}(o.a.Component),O=a(17),j=a(21),S=function(e,t){switch(t.type){case"DELETE_TRANSACTION":return Object(j.a)({},e,{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"ADD_TRANSACTION":return Object(j.a)({},e,{transactions:[t.payload].concat(Object(w.a)(e.transactions))});default:return e}},x={transactions:[]},A=Object(n.createContext)(x),k=function(e){var t=e.children,a=Object(n.useReducer)(S,x),r=Object(O.a)(a,2),c=r[0],l=r[1];return o.a.createElement(A.Provider,{value:{transactions:c.transactions,deleteTransaction:function(e){l({type:"DELETE_TRANSACTION",payload:e})},addTransaction:function(e){l({type:"ADD_TRANSACTION",payload:e})}}},t)},C=function(e){Object(n.useContext)(A).transactions;var t=e.transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:"balance"},"Total Balance"),o.a.createElement("h1",{className:"moneyBalance"},"$",t))},T=function(e){var t=e.transactions.map((function(e){return e.amount})),a=t.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),n=(-1*t.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)).toFixed(2);return o.a.createElement("div",{className:"inc-exp-container"},o.a.createElement("div",null,o.a.createElement("h4",null,"In"),o.a.createElement("p",{className:"money plus"},a)),o.a.createElement("div",null,o.a.createElement("h4",null,"Out"),o.a.createElement("p",{className:"money minus"},n)))},I=function(e){var t=e.transaction,a=e.handleDelete,n=t.amount<0?"-":"+";return o.a.createElement("li",{className:t.amount<0?"minus":"plus"},t.text,o.a.createElement("span",null,n,"$",Math.abs(t.amount)),o.a.createElement("button",{onClick:function(){return a(t.id)},className:"delete-btn"},"x"))},_=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"transactionDetails"},"Transaction details"),o.a.createElement("ul",{className:"list"},e.transactions.map((function(t){return o.a.createElement(I,{key:t.id,transaction:t,handleDelete:e.handleDelete})}))))},D=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),s=Object(O.a)(l,2),i=s[0],u=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"addNewTransaction"},"Add new transaction"),o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={text:r,amount:+i};e.handleTransaction(a),c(""),u("")}},o.a.createElement("div",{className:"form-control"},o.a.createElement("label",{className:"description",htmlFor:"text"},"Description"),o.a.createElement("input",{className:"addTransactionDescription",type:"text",value:r,onChange:function(e){return c(e.target.value)},placeholder:"Enter text"})),o.a.createElement("br",null),o.a.createElement("div",{className:"form-control"},o.a.createElement("label",{className:"amount",htmlFor:"amount"},"Amount"),o.a.createElement("input",{className:"addTransactionAmount",type:"number",value:i,onChange:function(e){return u(e.target.value)},placeholder:"Enter amount"})),o.a.createElement("br",null),o.a.createElement("button",{className:"btn"},"Add transaction")))},P="";P="https://tg-money-manager.herokuapp.com/transactions/";var L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={transactions:[],text:"",amount:"",accountId:"",name:""},a.addTransaction=function(e){var t=localStorage.getItem("auth_token");console.log("token!",t),null!==t?E.a.post(P,{text:e.text,amount:e.amount,account_id:a.props.match.params.id},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){console.log("response:",e.data),a.setState({transactions:[e.data].concat(Object(w.a)(a.state.transactions))})})).catch((function(e){console.warn(e)})):a.props.history.push("/")},a.deleteTransaction=function(e){var t=Object(w.a)(a.state.transactions),n=t.findIndex((function(t){return e===t.id}));t.splice(n,1),a.setState({transactions:t})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a="http://localhost:3000/accounts/".concat(t),n=localStorage.getItem("auth_token");n?E.a.get(a,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){console.log("response:",t.data),e.setState({transactions:t.data.transactions,name:t.data.name})})).catch((function(e){console.warn(e)})):this.props.history.push("/login")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k,null,o.a.createElement("h1",null,this.state.name),o.a.createElement("div",{className:"container"},o.a.createElement(C,{transactions:this.state.transactions}),o.a.createElement(T,{transactions:this.state.transactions}),o.a.createElement(_,{transactions:this.state.transactions,handleDelete:this.deleteTransaction}),o.a.createElement(D,{handleTransaction:this.addTransaction}))))}}]),t}(o.a.Component),B=a(36),F=a.n(B),M=a(37),R=a.n(M),z=a(38),U=a.n(z),H=a(39),J=a.n(H);a(66);var $=function(){return o.a.createElement("div",null,o.a.createElement(J.a,{animationSpeed:1500,autoPlay:3e3,stopAutoPlayOnHover:!0,infinite:!0},o.a.createElement("img",{src:F.a}),o.a.createElement("img",{src:R.a}),o.a.createElement("img",{src:U.a})),o.a.createElement("br",null),o.a.createElement("h1",{className:"welcome"},"Welcome! Manage your money with ease"))},W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={loggedIn:!1},a.setLoginStatus=function(e){console.log("hi!",e),a.setState({loggedIn:e})},a.handleLogout=function(){a.setState({loggedIn:!1}),localStorage.removeItem("auth_token"),window.location.href="/"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("auth_token")&&this.setState({loggedIn:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement("nav",{className:"nav"},o.a.createElement("span",{className:"signInOut"},this.state.loggedIn?o.a.createElement("a",{className:"logout",onClick:this.handleLogout},"Logout"):o.a.createElement(p.b,{className:"login",to:"/login"},"Login"),o.a.createElement(p.b,{className:"signUp",to:"/registration"},"Sign Up")),o.a.createElement(p.b,{className:"home",to:"/"},"Home"),o.a.createElement(p.b,{className:"accounts",to:"/accounts"},"Accounts")),o.a.createElement(h.a,{exact:!0,path:"/login",render:function(t){return o.a.createElement(f,Object.assign({},t,{onLogin:e.setLoginStatus}))}}),o.a.createElement(h.a,{exact:!0,path:"/registration",component:y}),o.a.createElement(h.a,{exact:!0,path:"/accounts",component:N}),o.a.createElement(h.a,{exact:!0,path:"/newAccount",component:N}),o.a.createElement(h.a,{exact:!0,path:"/",component:$}),o.a.createElement(h.a,{exact:!0,path:"/accounts/:id",component:L})))}}]),t}(o.a.Component);a(67);var q=function(){return o.a.createElement("div",null,o.a.createElement(W,null))};c.a.render(o.a.createElement(q,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f681aa58.chunk.js.map